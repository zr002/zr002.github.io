const _0x4506c1=_0x3d14;(function(_0x3344fd,_0x3b00a0){const _0x5d59fc=_0x3d14,_0x22a8f3=_0x3344fd();while(!![]){try{const _0x444d2e=parseInt(_0x5d59fc(0x11e))/0x1*(parseInt(_0x5d59fc(0x11d))/0x2)+-parseInt(_0x5d59fc(0xdf))/0x3*(parseInt(_0x5d59fc(0x10d))/0x4)+-parseInt(_0x5d59fc(0x118))/0x5*(-parseInt(_0x5d59fc(0xf8))/0x6)+parseInt(_0x5d59fc(0xe9))/0x7+parseInt(_0x5d59fc(0xe7))/0x8*(parseInt(_0x5d59fc(0xea))/0x9)+parseInt(_0x5d59fc(0x12f))/0xa*(parseInt(_0x5d59fc(0x10a))/0xb)+-parseInt(_0x5d59fc(0x112))/0xc*(parseInt(_0x5d59fc(0x10e))/0xd);if(_0x444d2e===_0x3b00a0)break;else _0x22a8f3['push'](_0x22a8f3['shift']());}catch(_0x9cfdd9){_0x22a8f3['push'](_0x22a8f3['shift']());}}}(_0x3263,0xc2ebe));function _0x3d14(_0xf948e7,_0xbdeba9){const _0x3263c8=_0x3263();return _0x3d14=function(_0x3d142b,_0x11fa9c){_0x3d142b=_0x3d142b-0xdf;let _0x3ab975=_0x3263c8[_0x3d142b];return _0x3ab975;},_0x3d14(_0xf948e7,_0xbdeba9);}export default class _0x5a2bc6{constructor(_0x4c3d98,_0xd2dc76){const _0x14aba4=_0x3d14;this['_device']=_0x4c3d98,this[_0x14aba4(0x12b)]=_0xd2dc76,this[_0x14aba4(0xf9)]=0x800,this['gridHeight']=0x800,this[_0x14aba4(0x123)]=this['gridWidth']*this[_0x14aba4(0xe0)],this[_0x14aba4(0x111)]=0x0,this['_paused']=![],this[_0x14aba4(0x12c)]=0x3c;}async[_0x4506c1(0xed)](){const _0x15fe64=_0x4506c1;this[_0x15fe64(0x114)]=new Uint32Array(this[_0x15fe64(0x123)]);for(let _0x1f98f2=0x0;_0x1f98f2<this[_0x15fe64(0x123)];_0x1f98f2++){this['_cellStateCPU'][_0x1f98f2]=Math['random']()<0.5?0x1:0x0;}let _0x23e76a=new Set();while(_0x23e76a[_0x15fe64(0x11c)]<0x1388){_0x23e76a[_0x15fe64(0x11a)](Math[_0x15fe64(0x115)](Math['random']()*this[_0x15fe64(0x123)]));}for(let _0x41fe2e of _0x23e76a){this[_0x15fe64(0x114)][_0x41fe2e]=0x2;}const _0x2ca166=this[_0x15fe64(0x114)][_0x15fe64(0xf3)];this[_0x15fe64(0x105)]=[this[_0x15fe64(0x124)][_0x15fe64(0xf1)]({'label':_0x15fe64(0x122),'size':_0x2ca166,'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x15fe64(0x129)]|GPUBufferUsage['COPY_SRC']}),this[_0x15fe64(0x124)][_0x15fe64(0xf1)]({'label':_0x15fe64(0x107),'size':_0x2ca166,'usage':GPUBufferUsage[_0x15fe64(0x10f)]|GPUBufferUsage['COPY_DST']|GPUBufferUsage['COPY_SRC']})],this[_0x15fe64(0x124)][_0x15fe64(0x102)][_0x15fe64(0x120)](this[_0x15fe64(0x105)][0x0],0x0,this[_0x15fe64(0x114)]),this[_0x15fe64(0xf2)]=this[_0x15fe64(0x124)][_0x15fe64(0xf1)]({'label':'Grid\x20Camera\x20Pose\x20Buffer','size':0x6*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST']}),this[_0x15fe64(0x11b)]=this[_0x15fe64(0x124)][_0x15fe64(0xf1)]({'label':_0x15fe64(0x109),'size':0x10,'usage':GPUBufferUsage[_0x15fe64(0xfa)]|GPUBufferUsage[_0x15fe64(0x129)]});const _0x12dd01=_0x15fe64(0x125)+this[_0x15fe64(0xf9)]+_0x15fe64(0x104)+this['gridHeight']+_0x15fe64(0xe4);this['_computeShaderModule']=this[_0x15fe64(0x124)][_0x15fe64(0x113)]({'label':_0x15fe64(0xe1),'code':_0x12dd01}),this[_0x15fe64(0xf7)]=this[_0x15fe64(0x124)]['createComputePipeline']({'layout':_0x15fe64(0x108),'compute':{'module':this[_0x15fe64(0xf0)],'entryPoint':_0x15fe64(0x127)}});const _0x34445b=new Float32Array([-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,-0.5,-0.5]);this[_0x15fe64(0xfd)]=this['_device']['createBuffer']({'label':'Cell\x20Quad\x20Vertex\x20Buffer','size':_0x34445b[_0x15fe64(0xf3)],'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage['COPY_DST']}),this[_0x15fe64(0x124)][_0x15fe64(0x102)][_0x15fe64(0x120)](this[_0x15fe64(0xfd)],0x0,_0x34445b);const _0x3ee950=_0x15fe64(0xec)+this['gridWidth']+_0x15fe64(0x103);this[_0x15fe64(0x106)]=this[_0x15fe64(0x124)][_0x15fe64(0x113)]({'label':_0x15fe64(0xff),'code':_0x3ee950}),this[_0x15fe64(0xfb)]=this[_0x15fe64(0x124)][_0x15fe64(0xe3)]({'layout':'auto','vertex':{'module':this[_0x15fe64(0x106)],'entryPoint':_0x15fe64(0x100),'buffers':[{'arrayStride':0x2*0x4,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':_0x15fe64(0x117)}]}]},'fragment':{'module':this[_0x15fe64(0x106)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x15fe64(0x12b)]}]},'primitive':{'topology':_0x15fe64(0x110)}}),this[_0x15fe64(0x116)]=this[_0x15fe64(0x124)][_0x15fe64(0x12a)]({'layout':this[_0x15fe64(0xfb)][_0x15fe64(0x119)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraPoseBuffer']}},{'binding':0x1,'resource':{'buffer':this['_cellStateBuffers'][this[_0x15fe64(0x111)]%0x2]}},{'binding':0x2,'resource':{'buffer':this[_0x15fe64(0x11b)]}}]});}['update'](){const _0x33c6d6=_0x4506c1,_0x5101c8=this[_0x33c6d6(0x124)][_0x33c6d6(0xe2)](),_0x4793c0=_0x5101c8[_0x33c6d6(0xef)]();_0x4793c0[_0x33c6d6(0xf6)](this[_0x33c6d6(0xf7)]);const _0x3f3da5=this['_cellStateBuffers'][this['_step']%0x2],_0x3c4547=this['_cellStateBuffers'][(this[_0x33c6d6(0x111)]+0x1)%0x2],_0x37b48f=this[_0x33c6d6(0x124)]['createBindGroup']({'layout':this['_computePipeline'][_0x33c6d6(0x119)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':_0x3f3da5}},{'binding':0x1,'resource':{'buffer':_0x3c4547}}]});_0x4793c0[_0x33c6d6(0x10c)](0x0,_0x37b48f),_0x4793c0['dispatchWorkgroups'](Math[_0x33c6d6(0x101)](this[_0x33c6d6(0xf9)]/0x10),Math['ceil'](this[_0x33c6d6(0xe0)]/0x10)),_0x4793c0[_0x33c6d6(0xf5)](0x10,0x10),_0x4793c0[_0x33c6d6(0x121)](),this[_0x33c6d6(0x124)][_0x33c6d6(0x102)][_0x33c6d6(0xe6)]([_0x5101c8[_0x33c6d6(0x128)]()]),this[_0x33c6d6(0x111)]++;const _0x4e2661=this[_0x33c6d6(0x105)][this[_0x33c6d6(0x111)]%0x2];this[_0x33c6d6(0x116)]=this[_0x33c6d6(0x124)][_0x33c6d6(0x12a)]({'layout':this[_0x33c6d6(0xfb)][_0x33c6d6(0x119)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraPoseBuffer']}},{'binding':0x1,'resource':{'buffer':_0x4e2661}},{'binding':0x2,'resource':{'buffer':this[_0x33c6d6(0x11b)]}}]});}[_0x4506c1(0xeb)](_0x251aee){const _0x4cd198=_0x4506c1;_0x251aee['setPipeline'](this[_0x4cd198(0xfb)]),_0x251aee[_0x4cd198(0x10c)](0x0,this[_0x4cd198(0x116)]),_0x251aee[_0x4cd198(0xee)](0x0,this[_0x4cd198(0xfd)]),_0x251aee[_0x4cd198(0x12e)](0x5,this[_0x4cd198(0x123)]);}[_0x4506c1(0x126)](_0x517056){const _0x34e55f=_0x4506c1;this[_0x34e55f(0x124)][_0x34e55f(0x102)][_0x34e55f(0x120)](this[_0x34e55f(0xf2)],0x0,_0x517056);}[_0x4506c1(0x11f)](){const _0x1aaf3c=_0x4506c1;for(let _0x20d856=0x0;_0x20d856<this[_0x1aaf3c(0x123)];_0x20d856++){this['_cellStateCPU'][_0x20d856]=Math[_0x1aaf3c(0xfc)]()<0.5?0x1:0x0;}let _0x2b3c77=new Set();while(_0x2b3c77[_0x1aaf3c(0x11c)]<0x1388){_0x2b3c77[_0x1aaf3c(0x11a)](Math[_0x1aaf3c(0x115)](Math['random']()*this[_0x1aaf3c(0x123)]));}for(let _0x44ff04 of _0x2b3c77){this[_0x1aaf3c(0x114)][_0x44ff04]=0x2;}this[_0x1aaf3c(0x124)][_0x1aaf3c(0x102)][_0x1aaf3c(0x120)](this[_0x1aaf3c(0x105)][0x0],0x0,this['_cellStateCPU']),this[_0x1aaf3c(0x111)]=0x0;}[_0x4506c1(0xf4)](){}[_0x4506c1(0xfe)](){const _0xdf1875=_0x4506c1;!this['_lastComputeTime']&&(this[_0xdf1875(0xe8)]=Date[_0xdf1875(0x12d)]());const _0x5232e3=Date['now'](),_0x106894=0x3e8/this['_simSpeed'];_0x5232e3-this['_lastComputeTime']>=_0x106894&&!this[_0xdf1875(0x10b)]&&(this[_0xdf1875(0xe5)](),this['_lastComputeTime']=_0x5232e3);}}function _0x3263(){const _0x1485c7=['STORAGE','triangle-strip','_step','12tbvlhm','createShaderModule','_cellStateCPU','floor','_renderBindGroup','float32x2','800540AOQWHj','getBindGroupLayout','add','_dragInfoBuffer','size','2luypVr','1167146isulhc','reset','writeBuffer','end','Grid\x20State\x20Buffer\x20A','numCells','_device','\x0a\x20\x20\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<storage,\x20read>\x20cellStateIn\x20:\x20array<u32>;\x0a\x20\x20\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<storage,\x20read_write>\x20cellStateOut\x20:\x20array<u32>;\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20gridWidth\x20:\x20u32\x20=\x20','updateCameraUniform','computeMain','finish','COPY_DST','createBindGroup','_canvasFormat','_simSpeed','now','draw','134410vdIHDU','48YxEKxl','gridHeight','GameOfLife\x20Compute\x20Shader','createCommandEncoder','createRenderPipeline','u;\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20@compute\x20@workgroup_size(16,16)\x0a\x20\x20\x20\x20\x20\x20\x20\x20fn\x20computeMain(@builtin(global_invocation_id)\x20global_id\x20:\x20vec3u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20x\x20=\x20global_id.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20y\x20=\x20global_id.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(x\x20>=\x20gridWidth\x20||\x20y\x20>=\x20gridHeight)\x20{\x20return;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20idx\x20=\x20y\x20*\x20gridWidth\x20+\x20x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20If\x20the\x20cell\x20is\x20\x22never\x20dead\x22\x20(state\x202),\x20leave\x20it\x20unchanged.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(cellStateIn[idx]\x20==\x202u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellStateOut[idx]\x20=\x202u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20aliveCount\x20:\x20u32\x20=\x200u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Loop\x20over\x20the\x203x3\x20neighborhood,\x20skipping\x20the\x20cell\x20itself.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(var\x20j:\x20i32\x20=\x20-1;\x20j\x20<=\x201;\x20j\x20=\x20j\x20+\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(var\x20i:\x20i32\x20=\x20-1;\x20i\x20<=\x201;\x20i\x20=\x20i\x20+\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(i\x20==\x200\x20&&\x20j\x20==\x200)\x20{\x20continue;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20nx\x20=\x20i32(x)\x20+\x20i;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ny\x20=\x20i32(y)\x20+\x20j;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(nx\x20>=\x200\x20&&\x20nx\x20<\x20i32(gridWidth)\x20&&\x20ny\x20>=\x200\x20&&\x20ny\x20<\x20i32(gridHeight))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Count\x20neighbors\x20with\x20state\x201\x20or\x20state\x202\x20(treat\x20never-dead\x20as\x20alive)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20neighborState\x20=\x20cellStateIn[ny\x20*\x20i32(gridWidth)\x20+\x20nx];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(neighborState\x20==\x201u\x20||\x20neighborState\x20==\x202u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aliveCount\x20=\x20aliveCount\x20+\x201u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20current\x20=\x20cellStateIn[idx];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Apply\x20Conway\x27s\x20rules\x20(only\x20for\x20cells\x20not\x20marked\x20as\x20\x22never\x20dead\x22):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(current\x20==\x201u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(aliveCount\x20<\x202u\x20||\x20aliveCount\x20>\x203u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellStateOut[idx]\x20=\x200u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellStateOut[idx]\x20=\x201u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(aliveCount\x20==\x203u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellStateOut[idx]\x20=\x201u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellStateOut[idx]\x20=\x200u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','update','submit','8YVDmxq','_lastComputeTime','4183207NGpzUw','9894303ElhWYz','render','\x0a\x20\x20\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20camerapose\x20:\x20Pose;\x0a\x20\x20\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<storage>\x20cellState\x20:\x20array<u32>;\x0a\x20\x20\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20dragInfo\x20:\x20DragInfo;\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20struct\x20Pose\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20motor:\x20MultiVector,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scale:\x20vec2f,\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Use\x20a\x20non-reserved\x20name\x20for\x20drag\x20info.\x0a\x20\x20\x20\x20\x20\x20\x20\x20struct\x20DragInfo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isActive:\x20u32,\x20\x20\x20\x20\x20\x20//\x200\x20means\x20no\x20drag;\x201\x20means\x20a\x20cell\x20is\x20being\x20dragged.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellIndex:\x20u32,\x20\x20\x20\x20\x20//\x20The\x20instance\x20index\x20of\x20the\x20dragged\x20cell.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20offset:\x20vec2f,\x20\x20\x20\x20\x20\x20//\x20The\x20drag\x20offset\x20(in\x20world\x20space)\x20to\x20add\x20to\x20that\x20cell.\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20struct\x20MultiVector\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s:\x20f32,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e01:\x20f32,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20eo0:\x20f32,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20eo1:\x20f32,\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20fn\x20reverse(a:\x20MultiVector)\x20->\x20MultiVector\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20MultiVector(a.s,\x20-a.e01,\x20-a.eo0,\x20-a.eo1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Use\x20the\x20same\x20transformation\x20as\x20the\x20colored\x20rectangle:\x0a\x20\x20\x20\x20\x20\x20\x20\x20fn\x20applyMotorToPoint(p:\x20vec2f,\x20m:\x20MultiVector)\x20->\x20vec2f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Subtract\x20the\x20camera\x20translation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20p\x20-\x20vec2f(m.eo1,\x20m.eo0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20struct\x20VertexOutput\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@builtin(position)\x20pos\x20:\x20vec4f,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@interpolate(flat)\x20@location(0)\x20state\x20:\x20u32,\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@location(0)\x20pos\x20:\x20vec2f,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@builtin(instance_index)\x20instanceId\x20:\x20u32)\x20->\x20VertexOutput\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Define\x20world-space\x20extent:\x20let\x20the\x20grid\x20span\x20from\x20-L\x20to\x20L.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20L\x20:\x20f32\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20gridWidth\x20:\x20u32\x20=\x20','init','setVertexBuffer','beginComputePass','_computeShaderModule','createBuffer','_cameraPoseBuffer','byteLength','updateGeometry','dispatchWorkgroups','setPipeline','_computePipeline','30DRVUyK','gridWidth','UNIFORM','_renderPipeline','random','_vertexBuffer','compute','GameOfLife\x20Render\x20Shader','vertexMain','ceil','queue','u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20x\x20=\x20instanceId\x20%\x20gridWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20y\x20=\x20instanceId\x20/\x20gridWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20cellWidth\x20=\x20(2.0\x20*\x20L)\x20/\x20f32(gridWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20cellHeight\x20=\x20(2.0\x20*\x20L)\x20/\x20f32(gridWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20centerX\x20=\x20-L\x20+\x20(f32(x)\x20+\x200.5)\x20*\x20cellWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20centerY\x20=\x20-L\x20+\x20(f32(y)\x20+\x200.5)\x20*\x20cellHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20scaledPos\x20=\x20pos\x20*\x20vec2f(cellWidth,\x20cellHeight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20worldPos\x20=\x20vec2f(centerX\x20+\x20scaledPos.x,\x20centerY\x20+\x20scaledPos.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Apply\x20camera\x20transformation.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20transformed\x20=\x20applyMotorToPoint(worldPos,\x20camerapose.motor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20finalPos\x20=\x20transformed\x20*\x20camerapose.scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dragInfo.isActive\x20==\x201u\x20&&\x20instanceId\x20==\x20dragInfo.cellIndex)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20finalPos\x20=\x20finalPos\x20+\x20dragInfo.offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20out\x20:\x20VertexOutput;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20out.pos\x20=\x20vec4f(finalPos,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20out.state\x20=\x20cellState[instanceId];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@interpolate(flat)\x20@location(0)\x20state\x20:\x20u32)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Render\x20\x22never\x20dead\x22\x20cells\x20(state\x202)\x20in\x20green.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(state\x20==\x202u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(0.0,\x201.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(state\x20==\x201u)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(1.0,\x201.0,\x201.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(0.0,\x200.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','u;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20gridHeight\x20:\x20u32\x20=\x20','_cellStateBuffers','_renderShaderModule','Grid\x20State\x20Buffer\x20B','auto','Drag\x20Info\x20Buffer','803JLnnAh','_paused','setBindGroup','378956YxjqpZ','30311125cIhxVt'];_0x3263=function(){return _0x1485c7;};return _0x3263();}
